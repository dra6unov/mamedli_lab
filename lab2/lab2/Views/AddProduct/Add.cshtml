

@{
    ViewBag.Title = "Add";
}

<h2>Добавление нового товара в систему</h2>
<form>
    <div class="form-group">
        <label for="productName">Введите наименование товара</label>
        <input type="text" id="productName" class="form-control" />       <label id="nameCheck" class="nameCheck">Заполните поле</label>
    </div>

    <div class="form-group">
        <label for="productProizv">Введите производителя товара</label>
        <input type="text" id="productProizv" class="form-control" />      <label id="proizvCheck" class="proizvCheck">Заполните поле</label>
    </div>

    <div class="form-group">
        <label for="productDesc">Введите описание товара</label>    
        <input type="text" id="productDesc" class="form-control" />      <label id="descCheck" class="descCheck">Заполните поле</label>
    </div>

    <div class="form-group">
        <label for="productCategory">Выберите категорию товара</label>
        <select name="tovar" class="form-control" id="productCategory">
            <option value="mobile">Смартфоны</option>
            <option value="notebook">Ноутбуки</option>
            <option value="smartwatch">Умные часы</option>
        </select>
    </div>

    <div class="form-group">
        <label for="productPrice">Введите стоимость товара</label>    
        <input type="number" id="productPrice" class="form-control" />        <label id="priceCheck" class="priceCheck">Заполните поле</label>
    </div>
    <br />
    <br />
    <input type="submit" class="btn btn-primary" value="Добавить товар" id="btnSubmit"/>
</form>
<div id="suC" class="suC">
    <label>Товар успешно добавлен в систему!</label>
</div>

<script type="text/javascript">

    //$(document).ready(function () {

    //});

    $("#btnSubmit").click(function (e) {
        if ($("#productName").val() == "" || $("#productProizv").val() == "" || $("#productDesc").val() == "" || $("#productPrice").val() == "") {
            e.preventDefault();
            if ($("#productName").val() == "") {
                $(".nameCheck").show();
            }
            else {
                $(".nameCheck").hide();
            }
            if ($("#productProizv").val() == "") {
                $(".proizvCheck").show();
            }
            else {
                $(".proizvCheck").hide();
            }
            if ($("#productDesc").val() == "") {
                $(".descCheck").show();
            }
            else {
                $(".descCheck").hide();
            }
            if ($("#productPrice").val() == "") {
                $(".priceCheck").show();
            }
            else {
                $(".priceCheck").hide();
            }
        }
        else {
            e.preventDefault();
            $.ajax({
                method: "POST",
                url: "/AddProduct/Add",
                data:
                {
                    productName: $("#productName").val(),
                    productProizv: $("#productProizv").val(),
                    productDesc: $("#productDesc").val(),
                    productPrice: $("#productPrice").val(),
                    category: $("#productCategory option:selected").val()
                },
                success: function () {
                    $(".suC").show();
                    setTimeout(function () {

                        $(".suC").hide();
                    }, 3000);
                }

            });
        }
        
    });
</script>